<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Lenald Ng Wai Jun - cherBook Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Lenald Ng Wai Jun - cherBook Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this project portfolio, the <code>external</code> and <code>internal</code> behavior of the various features of <code>cherBook</code>, along with the <code>motivations</code>
behind implementing them, will be explained thoroughly.</p>
</div>
<div class="paragraph">
<p><code>cherBook</code> is an address book application that combines <code>statistical analysis</code> with the ease of <code>communication</code>.
It is targeted at <code>teachers</code> as it offers various features that can improve their lives.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/LenPortfolioIntroduction.png" alt="LenPortfolioIntroduction" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 1.1 : Illustration of cherBook</em></p>
</div>
<div class="paragraph">
<p>The user can interact with it using a <code>command line interface</code>, and it has a <code>graphical user interface</code> created with <code>JavaFX</code>.
The application is written in <code>Java</code>.</p>
</div>
<div class="paragraph">
<p><strong>Code contributed</strong>: [<a href="https://github.com/Lenaldnwj/main/blob/master/collated/main/Lenaldnwj.md">Functional code</a>] [<a href="https://github.com/Lenaldnwj/main/blob/master/collated/test/Lenaldnwj.md">Test code</a>]</p>
</div>
<div class="sect2">
<h3 id="enhancement-added-randomised-unique-tag-colors"><a class="link" href="#enhancement-added-randomised-unique-tag-colors">Enhancement Added: Randomised Unique Tag Colors</a></h3>
<div class="sect3">
<h4 id="external-behavior"><a class="link" href="#external-behavior">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
<div class="sect3">
<h4 id="randomised-unique-tag-colors-code-since-v1-4-code"><a class="link" href="#randomised-unique-tag-colors-code-since-v1-4-code">Randomised Unique Tag Colors: <code>Since v1.4</code></a></h4>
<div class="paragraph">
<p>For your convenience, all assignment of colors will be automated by cherBook for you.</p>
</div>
<div class="paragraph">
<p>Whenever you access the cherBook, a new range of <code>random</code> colors will be assigned to the background of the tags.</p>
</div>
<div class="paragraph">
<p>Modifications were made to the range of possible colors. It is to ensure that the background color&#8217;s <code>saturation</code> and <code>lumination</code> is at an optimal level
to match with the white font of the tag description. Thus, allowing you to be able to see the tag description clearly as seen in the following picture.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/TagColor.png" alt="TagColor" width="350">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5.3.5.1 : Example of color tags</em></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>In this day and age, educators have many classes of students to teach. They will have difficulty differentiating between
tags of different descriptions, if they are to tag many of their students.</p>
</div>
<div class="paragraph">
<p>This feature will assign tags of the same descriptions with a unique color. With the implementation of this feature,
 educators will be able to distinguish between the different tags easily.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="unique-color-tag-mechanism"><a class="link" href="#unique-color-tag-mechanism">Unique Color Tag mechanism</a></h3>
<div class="paragraph">
<p>The <code>unique color tag</code> mechanism is facilitated by making changes to <code>PersonCard</code> class in the <code>UI</code> component. This feature enables
the assignment of unique colors to tags.</p>
</div>
<div class="paragraph">
<p>The color generated to be assigned to tags is random and all tags with the same description will be assigned a same color.</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>unique color tag</code> operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UniqueTagColorSequenceDiagram.png" alt="UniqueTagColorSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.13.1 : Sequence Diagram of Unique Color Tag Operation</em></p>
</div>
<div class="paragraph">
<p>The method receives <code>String tagName</code> (description of the tag) and returns the <code>String assignedColor</code>
associated to the tagName. It is shown in the code segment below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>public static String obtainTagColors(String tagName) {
        if (!currentTagColors.containsKey(tagName)) {
            do {
                Random random = new Random();
                final float hue = random.nextFloat();
                final float saturation = 0.65f + random.nextFloat()
                        * (0.90f - 0.65f);
                final float luminance = 0.60f + random.nextFloat()
                        * (0.90f - 0.60f);

                Color color = Color.getHSBColor(hue, saturation, luminance);

                Formatter hexRepresentation = new Formatter(new StringBuffer("#"));
                hexRepresentation.format("%02X", color.getRed());
                hexRepresentation.format("%02X", color.getGreen());
                hexRepresentation.format("%02X", color.getBlue());
                assignedColor = hexRepresentation.toString();
            } while (usedColors.contains(assignedColor));

            usedColors.add(assignedColor);
            currentTagColors.put(tagName, assignedColor);
        }
        return currentTagColors.get(tagName);
    }</pre>
</div>
</div>
<div class="paragraph">
<p>The section below explains how various parts of the above code segment works.</p>
</div>
<div class="paragraph">
<p>A color is determined by three factors, <code>hue</code>, <code>saturation</code> and <code>luminance</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/HueSaturationLuminance.png" alt="HueSaturationLuminance" width="550">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.13.2 : Color Range of Hue, Saturation and Luminance</em></p>
</div>
<div class="paragraph">
<p>The code segment shown below randomises the value of each of the three factors,
and a random <code>color</code> is obtained.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Random random = new Random();

final float hue = random.nextFloat();
final float saturation = 0.65f + random.nextFloat() * (0.90f - 0.65f);
final float luminance = 0.60f + random.nextFloat() * (0.90f - 0.60f);

Color color = Color.getHSBColor(hue, saturation, luminance);</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Random range of <code>saturation</code> and <code>luminance</code> are tweaked to ensure that the random color generated will always mesh well with the white font of
the tag description.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/tagColorPic.png" alt="tagColorPic" width="400">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.13.3 : Compatibility of tag color background with white font of tag description</em></p>
</div>
<div class="paragraph">
<p>Next, in the code segment below, the <code>red</code>, <code>green</code> and <code>blue</code> components are extracted from the <code>color</code>. It is then formatted into a <code>hexadecimal
representation</code> of the color, before being converted to a <code>String</code> data type and assigned to <code>assignedColor</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Hexadecimal representation of the color is compatible with JavaFx.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre>Formatter hexRepresentation = new Formatter(new StringBuffer("#"));
hexRepresentation.format("%02X", color.getRed());
hexRepresentation.format("%02X", color.getGreen());
hexRepresentation.format("%02X", color.getBlue());
assignedColor = hexRepresentation.toString();</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>assignedColor</code> is added into an <code>ArrayList&lt;String&gt; usedColors</code>. This ensures no same color will be assigned
to a tag with different description in subsequent iterations by randomising a different color again, should a same color is
generated. The method will then return <code>assignedColor</code>.</p>
</div>
<div class="paragraph">
<p>Lastly, in the code below, <code>obtainTagColors(tag.tagName)</code>, the hexadecimal String representation of the color, will be appended
to the tag background color. This sets the background color of the tag to be that of the assigned color.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>private void initialiseTags(ReadOnlyPerson person) {
        person.getTags().forEach(tag -&gt; {
            Label tagLabel = new Label(tag.tagName);

            tagLabel.setStyle("-fx-background-color: " + obtainTagColors(tag.tagName));
            tags.getChildren().add(tagLabel);
        });
    }</pre>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p>Aspect: How tag colors are assigned.<br>
Alternative 1 (current choice): Tag colors are assigned randomly.<br>
Pros: Easy for developers to understand the mechanism of this feature.<br>
Cons: User has no control over the assigning of tag colors.<br>
Alternative 2: Tag colors are assigned by the user.<br>
Pros: User will have more freedom in personalising the tags.<br>
Cons: The range of colors will be more limited.<br></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-optional-inputs-fields"><a class="link" href="#enhancement-added-optional-inputs-fields">Enhancement Added: Optional Inputs/Fields</a></h3>
<div class="sect3">
<h4 id="external-behavior-2"><a class="link" href="#external-behavior-2">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
<div class="sect4">
<h5 id="optional-fields-for-adding-a-person-code-since-v1-3-code"><a class="link" href="#optional-fields-for-adding-a-person-code-since-v1-3-code">Optional fields for adding a person <code>Since v1.3</code></a></h5>
<div class="paragraph">
<p>You can find a list of optional input fields for the add command in the table below.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When you do not enter any of the optional fields,
a message will be generated to inform you that the particular field is not recorded.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Optional Field</th>
<th class="tableblock halign-left valign-top">Prefix</th>
<th class="tableblock halign-left valign-top">Example of user&#8217;s input in cherBook&#8217;s command box without the optional field</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Student Phone Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">p/<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add n/John pp/97272700 e/John@gmail.com a/Johnny street, block 321, #01-01 f/6C g/91 c/600321 t/Smart<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a/<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add n/John p/97602611 pp/97272700 e/John@gmail.com f/6C g/91 c/600321 t/Smart<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Postal Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c/</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add n/John p/97602611 pp/97272700 e/John@gmail.com a/Johnny street, block 321, #01-01 f/6C g/91 t/Smart<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e/<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add n/John p/97602611 pp/97272700 a/Johnny street, block 321, #01-01 f/6C g/91 c/600321 t/Smart<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">t/<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add n/John p/97602611 pp/97272700 e/John@gmail.com a/Johnny street, block 321, #01-01 f/6C g/91 c/600321<br></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/OptionalInputsImage.png" alt="OptionalInputsImage" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5.1.1.2 : Displays optional inputs for your contacts</em></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="justification-2"><a class="link" href="#justification-2">Justification</a></h4>
<div class="paragraph">
<p>As we increased the number of attributes for the person who is being added into the address book, we realised that it is getting very cumbersome for the user to
input all the compulsory attributes into cherBook. Furthermore, the person to be added might not have all the attributes deemed compulsory.</p>
</div>
<div class="paragraph">
<p>Thus, we decided that several non essential attributes can
be optional inputs for the user.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="optional-inputs-fields-mechanism"><a class="link" href="#optional-inputs-fields-mechanism">Optional Inputs/Fields mechanism</a></h3>
<div class="paragraph">
<p>The <code>optional inputs/fields</code> mechanism is facilitated by making changes to <code>AddCommandParser</code> class in the <code>Logic</code> component.
This feature enables several input/fields of the student to be optional.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Student&#8217;s phone number, email, address and postal code are optional inputs/fields.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows you how the <code>optional inputs/fields</code> operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/OptionalInputsSequenceDiagram.png" alt="OptionalInputsSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.2.1 : Sequence Diagram of Optional Inputs/Fields Operation</em></p>
</div>
<div class="paragraph">
<p>The optionalInput method will append messages indicating that those optional fields are not recorded if the user chooses not to include those fields.
The method can be seen in the code section below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    public static String optionalInput(String input) {
        if (!input.contains("a/")) {
            input = input + " a/ (Address not recorded)";
        }
        if (!input.contains("e/")) {
            input = input + " e/ (Email not recorded)";
        }
        if (!input.contains("c/")) {
            input = input + " c/ (Postal code not recorded)";
        }
        if (!input.contains(" p/")) {
            input = input + " p/ (Student phone not recorded)";
        }
        return input;
    }</pre>
</div>
</div>
<div class="paragraph">
<p>The output of the method is illustrated in the following picture.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/OptionalInputMessage.png" alt="OptionalInputMessage" width="300">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.2.2 : Messages shown when the user does not enter the optional fields</em></p>
</div>
<div class="paragraph">
<p>Prefixes of the optional fields - <code>PREFIX_PHONE</code>, <code>PREFIX_EMAIL</code>, <code>PREFIX_ADDRESS</code> and <code>PREFIX_POSTALCODE</code> are removed from
the code segment below. The ensures that the <code>ParseException</code> will not be thrown if the user chooses not to include the
optional fields.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>if (!arePrefixesPresent(argMultimap, PREFIX_NAME, PREFIX_PHONE, PREFIX_PARENTPHONE, PREFIX_FORMCLASS,
                PREFIX_GRADES)) {
            throw new ParseException(String.format(MESSAGE_INVALID_COMMAND_FORMAT, AddCommand.MESSAGE_USAGE));
        }</pre>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="paragraph">
<p>Aspect: Implementation of optional fields/inputs.<br>
Alternative 1 (current choice): This feature manipulates the input to include the missing optional input prefix, along with a message
stating that the field is not recorded.<br>
Pros: Simpler to understand and tweak this feature as it only manipulates the parsed input of the user.<br>
Cons: Unable to implement UI features that requires the attribute to have a optional property.<br>
Alternative 2: This feature implements a optional characteristic in optional attributes.<br>
Pros: Optionality aspect of the attributes can be used by other features of cherBook.<br>
Cons: Harder to understand the mechanism and more work is required implement changes to this feature.<br></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="removed-enhancement-multiple-numbers-parent-and-student-number"><a class="link" href="#removed-enhancement-multiple-numbers-parent-and-student-number">Removed Enhancement: Multiple Numbers (Parent and Student number)</a></h3>
<div class="sect3">
<h4 id="external-behavior-3"><a class="link" href="#external-behavior-3">External behavior</a></h4>
<hr>
<div class="paragraph">
<p>Note that this is not an extract from the userguide as this particular section is removed from the userguide.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adding-multiple-numbers-to-a-person-code-add-code-code-since-v1-3-code"><a class="link" href="#adding-multiple-numbers-to-a-person-code-add-code-code-since-v1-3-code">Adding multiple numbers to a person: <code>add</code> <code>Since v1.3</code></a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Adding of student or/and parent&#8217;s number must be preceded by the phone prefix <code>p/</code>.<br>
Input of <code>student phone number</code> is optional.<br>
Fields that enclosed in <code>square brackets</code> are optional fields.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can add <code>multiple numbers</code> to a person by adhering to the format below.<br></p>
</div>
<div class="paragraph">
<p>Format: add n/NAME <code>p/student/ STUDENTNUMBER parent/ PARENTNUMBER</code> [e/EMAIL] [a/ADDRESS] f/FORMCLASS g/GRADES [c/POSTALCODE] [t/TAG]&#8230;&#8203;<br>
Shorthand: a n/NAME <code>p/student/ STUDENTNUMBER parent/ PARENTNUMBER</code> [e/EMAIL] [a/ADDRESS] f/FORMCLASS g/GRADES [c/POSTALCODE] [t/TAG]&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>add n/Alex Yeoh <code>p/student/97272031 parent/97979797</code> e/alexyeoh@example.com a/Blk 30 Geylang Street 29, #06-40 f/6E1 g/123.0</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/PhoneDisplay.png" alt="PhoneDisplay" width="400">
</div>
</div>
<div class="paragraph">
<p><em>Figure 4.5.2 : Valid Displayed Person Card Phone Information</em></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-3"><a class="link" href="#justification-3">Justification</a></h4>
<div class="paragraph">
<p>Initially, cherBook had the option of only being able to record the student&#8217;s number.
We decided to come out with multiple numbers (Parent and Student number)
as many educators believe that there needs to be good communication between not only the students, but their parents too.</p>
</div>
<div class="paragraph">
<p>This enhancement is especially useful for those who are in charge of younger students
in primary school. Educators in institutions with younger students
will find having parents numbers more important than the student&#8217;s number, as there tends to be more communication
between the teachers and the parents of the students.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="add-student-parent-phone-contact-mechanism-a-href-https-github-com-cs2103aug2017-t16-b2-main-blob-master-collated-unused-lenaldnwj-unused-md-functional-code-a"><a class="link" href="#add-student-parent-phone-contact-mechanism-a-href-https-github-com-cs2103aug2017-t16-b2-main-blob-master-collated-unused-lenaldnwj-unused-md-functional-code-a">Add Student/Parent Phone Contact mechanism [<a href="https://github.com/CS2103AUG2017-T16-B2/main/blob/master/collated/unused/Lenaldnwj-unused.md">Functional code</a>]</a></h3>
<div class="paragraph">
<p>The <code>student/parent phone contact</code> mechanism is facilitated by making changes
to the Phone class in the model component. It enables the input
of the phone contact information of the student and his/her parent.</p>
</div>
<div class="paragraph">
<p>To ensure consistency across the user inputs for add command, the user will have to input p/ student/(STUDENT_NUMBER) parent/(PARENT_NUMBER)
instead of p/ Student: (STUDENT_NUMBER) Parent: (PARENT_NUMBER).</p>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the <code>student/parent phone contact</code> operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/MultipleNumberSequenceDiagram.png" alt="MultipleNumberSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5.1.1 : Sequence Diagram of Student/Parent Phone Contact Operation</em></p>
</div>
<div class="paragraph">
<p>The following method replaces <code>/</code> with <code>:<code></code></code>, <code>s</code> with <code>S</code>, and <code>p</code> with <code>P</code> in the user input string
for appropriate presentation of <code>displayed person card phone information</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="predefined-type">String</span> changeToAppropriateUiFormat(<span class="predefined-type">String</span> value) {
        value = value.replace(<span class="string"><span class="delimiter">&quot;</span><span class="content">/</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">: </span><span class="delimiter">&quot;</span></span>);
        value = value.replace(<span class="string"><span class="delimiter">&quot;</span><span class="content">s</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">S</span><span class="delimiter">&quot;</span></span>);
        value = value.replace(<span class="string"><span class="delimiter">&quot;</span><span class="content">p</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">P</span><span class="delimiter">&quot;</span></span>);
        <span class="keyword">return</span> value;
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Validity of the <code>displayed person card phone information</code> is checked in the following method in the Phone class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="type">boolean</span> isValidPhone(<span class="predefined-type">String</span> test) {
        <span class="keyword">return</span> test.matches(PHONE_VALIDATION_REGEX);
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>where the <code>PHONE_VALIDATION_REGEX</code> refers to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> PHONE_VALIDATION_REGEX =
<span class="string"><span class="delimiter">&quot;</span><span class="content">((Student: )(</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">)( Parent: )(</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">))|((Parent: )(</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">\d</span><span class="content">))</span><span class="delimiter">&quot;</span></span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The regex ensures that the string for <code>displayed person card phone information</code> adheres to the
correct format of <code>Student: (STUDENT_NUMBER) Parent: (PARENT_NUMBER)</code> or <code>Parent: (PARENT_NUMBER)</code> as it is optional to
add the phone number of students.</p>
</div>
<div class="paragraph">
<p>The phone numbers must be exactly <code>8 digits</code> long.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/PhoneDisplay.png" alt="PhoneDisplay" width="400">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5.1.2 : Valid Displayed Person Card Phone Information</em></p>
</div>
<div class="paragraph">
<p>If the string format for <code>displayed person card phone information</code> is valid, the
phone contact information of the student and his/her parent will be displayed
below the student&#8217;s name in the person card as seen in the figure above.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/message_constraint.png" alt="message constraint" width="1100">
</div>
</div>
<div class="paragraph">
<p><em>Figure 5.1.3 : Message to prompt Users to Enter Correct Phone Format</em></p>
</div>
<div class="paragraph">
<p>If the string format for <code>displayed person card phone information</code> is invalid, an <code>IllegalValueException</code>
is thrown. The user will be prompted to follow the accepted format as seen in the figure above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Phone(<span class="predefined-type">String</span> phone) <span class="directive">throws</span> IllegalValueException {
        requireNonNull(phone);
        <span class="predefined-type">String</span> trimmedPhone = phone.trim();
        trimmedPhone = changeToAppropriateUiFormat(trimmedPhone);
        <span class="keyword">if</span> (!isValidPhone(trimmedPhone)) {
            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalValueException(MESSAGE_PHONE_CONSTRAINTS);
        }
        <span class="local-variable">this</span>.value = trimmedPhone;
    }</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Phone numbers <br>
<strong>Alternative 1 (current choice):</strong> Both the student&#8217;s phone number and their parent&#8217;s phone number is a single string.<br>
<strong>Pros:</strong> Easy to implement as separate classes for student&#8217;s phone and parent&#8217;s phone is not required.<br>
<strong>Cons:</strong> Harder to implement features that require solely the student&#8217;s number or parent&#8217;s number.<br>
<strong>Alternative 2:</strong> Have a phoneStudent class for student&#8217;s phone number and phoneParent class for parent&#8217;s phone number.<br>
<strong>Pros:</strong> Can edit properties of the student&#8217;s phone number or parent&#8217;s phone number separately.<br>
<strong>Cons:</strong> Harder to implement as now there will be two phone classes instead of one.<br></p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Validity of phone number<br>
<strong>Alternative 1 (current choice):</strong> Only allow numbers that are exactly <code>8 digits</code> long.<br>
<strong>Pros:</strong> Ensures consistency across all phone numbers.<br>
<strong>Cons:</strong> Student&#8217;s parents might not have foreign numbers that are not exactly <code>8 digits</code> long.<br>
<strong>Alternative 2:</strong> Modify phone validity regex to allow any length of phone numbers.<br>
<strong>Pros:</strong> Able to have phone numbers that are local or non-local.<br>
<strong>Cons:</strong> Inconsistent phone lengths displayed, might look very messy.<br></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p>Included ParentPhone attribute (Pull request <a href="https://github.com/CS2103AUG2017-T16-B2/main/pull/116">#116</a>)</p>
</li>
<li>
<p>Included icons in PersonListCard (Pull request <a href="https://github.com/CS2103AUG2017-T16-B2/main/pull/116">#116</a>)</p>
</li>
<li>
<p>Icon text descriptors in ExtendedPersonCard on startup of cherBook (Pull request <a href="https://github.com/CS2103AUG2017-T16-B2/main/pull/121">#121</a>)</p>
</li>
<li>
<p>Improved sample data (Pull requests <a href="https://github.com/CS2103AUG2017-T16-B2/main/pull/79">#79</a>, <a href="https://github.com/CS2103AUG2017-T16-B2/main/pull/120">#120</a>)</p>
</li>
<li>
<p>Improved test quality of several features (Pull requests <a href="https://github.com/CS2103AUG2017-T16-B2/main/pull/88">#88</a>
, <a href="https://github.com/CS2103AUG2017-T16-B2/main/pull/113">#113</a>, <a href="https://github.com/CS2103AUG2017-T16-B2/main/pull/121">#121</a>)</p>
</li>
<li>
<p>Removed unused codes to improve coveralls (Pull request <a href="https://github.com/CS2103AUG2017-T16-B2/main/pull/129">#129</a>)</p>
</li>
<li>
<p>Updated AboutUs section (Pull request <a href="https://github.com/CS2103AUG2017-T16-B2/main/pull/25">#25</a>)</p>
</li>
<li>
<p>Created Glossary section in DeveloperGuide (Pull request <a href="https://github.com/CS2103AUG2017-T16-B2/main/pull/16">#16</a>)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="other-projects-nus-interactive-food-map"><a class="link" href="#other-projects-nus-interactive-food-map">Other Projects: NUS Interactive Food Map</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is an interactive food <a href="https://github.com/Lenaldnwj/Orbital-NUS-Interactive-Food-Map">map</a> of the NUS campus that shows information of major food places in the NUS map.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-13 10:22:22 +00:00
</div>
</div>
</body>
</html>